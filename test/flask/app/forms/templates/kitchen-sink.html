{% extends "layouts/base.html" %}

{%- from 'components/error-summary/macro.html' import tnaErrorSummary -%}

{% block pageTitle %}{%- if form and form.errors %}Error: {% endif -%}Example form â€“ GOV.UK Frontend WTForms Demo{% endblock %}

{% block stylesheets %}
  <link rel="preconnect" href="https://use.typekit.net">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://use.typekit.net/kaq6qqh.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400..700&family=Roboto+Mono:wght@400..500&display=swap">
  <link href="https://cdn.jsdelivr.net/npm/@nationalarchives/frontend@0.19.0/nationalarchives/all.css" rel="stylesheet" crossorigin="anonymous">
{% endblock %}

{% block cookies %}
{% endblock %}

{% block content %}
<div class="tna-container tna-section">
  <div class="tna-column tna-column--width-2-3 tna-column--full-small tna-column--full-tiny">
    {% if form.errors %}
      {{ tnaErrorSummary(wtforms_errors(form)) }}
    {% endif %}
    <h1 class="tna-heading-xl">Example form</h1>
    <form action="" method="post" novalidate>
      {{ form.csrf_token }}

      {{ form.search(params={
        'headingLevel': 2
      }) }}

      {{ form.username(params={
        'headingLevel': 2,
        'spellcheck': False,
        'autofill': 'username',
        'attributes': {
          'data-foo': 'bar',
          'data-baz': True
        }
      }) }}

      {{ form.password(params={
        'headingLevel': 2,
        'spellcheck': False,
        'autofill': 'new-password'
      }) }}

      {{ form.email(params={
        'headingLevel': 2,
        'spellcheck': False,
        'autofill': 'email'
      }) }}

      {{ form.height(params={
        'headingLevel': 2
      }) }}

      {{ form.remember(params={
        'label': 'Terms and conditions',
        'headingLevel': 2
      }) }}

      {{ form.url(params={
        'headingLevel': 2,
        'autofill': 'url'
      }) }}

      {{ form.shopping(params={
        'headingLevel': 2
      }) }}

      {{ form.day_of_week(params={
        'headingLevel': 2
      }) }}

      {{ form.birthday(params={
        'headingLevel': 2
      }) }}

      {{ form.message(params={
        'headingLevel': 2
      }) }}

      {{ form.order(params={
        'headingLevel': 2
      }) }}
      
      <div class="tna-button-group">
        {{ form.submit }}
      </div>
    </form>
  </div>
  <div class="tna-column tna-column--width-1-3 tna-column--full-small tna-column--full-tiny">
    <div class="tna-aside tna-aside--tight tna-background-tint">
      <h2 class="tna-heading-m">Form data</h2>
      <dl class="tna-dl tna-dl--plain tna-dl--stacked">
        {% for field in form %}
        <dt>{{ field.name }}</dt>
        <dd>{{ field.data }}</dd>
        <dd>{{ field.flags }}</dd>
        {% endfor %}
      </dl>
    </div>
  </div>
</div>
{% endblock %}

{% block bodyEnd %}
  <script src="https://cdn.jsdelivr.net/npm/@nationalarchives/frontend@0.19.0/nationalarchives/all.js" crossorigin="anonymous"></script>
  <script>window.TNAFrontend.initAll();</script>
{% endblock %}
